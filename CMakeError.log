Performing C SOURCE FILE Test CMAKE_HAVE_LIBC_PTHREAD failed with the following output:
Change Dir: /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/local/bin/ninja cmTC_49ac9 && [1/2] Building C object CMakeFiles/cmTC_49ac9.dir/Debug/src.c.o
FAILED: CMakeFiles/cmTC_49ac9.dir/Debug/src.c.o 
/Users/connorclark/tools/emsdk/upstream/emscripten/emcc -DCMAKE_HAVE_LIBC_PTHREAD -DCMAKE_INTDIR=\"Debug\"  -s USE_SDL=2 -s USE_SDL_MIXER=2 -s USE_PTHREADS=1  -g -MD -MT CMakeFiles/cmTC_49ac9.dir/Debug/src.c.o -MF CMakeFiles/cmTC_49ac9.dir/Debug/src.c.o.d -o CMakeFiles/cmTC_49ac9.dir/Debug/src.c.o -c /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp/src.c
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -DCMAKE_HAVE_LIBC_PTHREAD -DCMAKE_INTDIR="Debug" -s USE_SDL=2 -s USE_SDL_MIXER=2 -s USE_PTHREADS=1 -g -MD -MT CMakeFiles/cmTC_49ac9.dir/Debug/src.c.o -MF CMakeFiles/cmTC_49ac9.dir/Debug/src.c.o.d -o CMakeFiles/cmTC_49ac9.dir/Debug/src.c.o -c /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp/src.c (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.000 seconds
shared:DEBUG: successfully executed /Users/connorclark/tools/emsdk/upstream/bin/clang --version
shared:DEBUG: sanity file up-to-date: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/sanity.txt
shared:DEBUG: successfully executed /Users/connorclark/tools/emsdk/upstream/bin/llc --version
shared:INFO: (Emscripten: Running sanity checks)
profiler:DEBUG: block "sanity LLVM" took 0.000 seconds
profiler:DEBUG: block "check_sanity" took 0.047 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp/src.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
ports:DEBUG: including port: sdl2_mixer
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer)
cache:DEBUG: PID 58116 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
tools.filelock:DEBUG: Attempting to acquire lock 4568888080 on /Users/connorclark/tools/emsdk/upstream/emscripten/cache/cache.lock
tools.filelock:DEBUG: Lock 4568888080 acquired on /Users/connorclark/tools/emsdk/upstream/emscripten/cache/cache.lock
cache:DEBUG: done
cache:INFO: generating port: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a... (this will be cached in "/Users/connorclark/tools/emsdk/upstream/emscripten/cache/sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a" for subsequent builds)
root:INFO: building port: sdl2_mixer
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
shared:DEBUG: Running subprocess 1/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/common.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/common.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 2/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/tables.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/tables.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 3/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/readmidi.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/readmidi.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 4/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/instrum.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/instrum.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 5/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/resample.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/resample.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 6/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/mix.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/mix.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 7/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/playmidi.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/playmidi.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 8/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/output.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/output.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 9/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/timidity.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/timidity.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 10/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mad.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_mad.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 11/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_timidity.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_timidity.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
shared:DEBUG: Running subprocess 12/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mpg123.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_mpg123.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 13/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_voc.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/load_voc.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/common.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/common.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
shared:DEBUG: Running subprocess 14/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drmp3.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_drmp3.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 15/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_aiff.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/load_aiff.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 16/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drflac.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_drflac.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
profiler:DEBUG: block "parse arguments" took 0.025 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/common.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58129 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.026 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/tables.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/tables.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/readmidi.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/readmidi.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/readmidi.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
profiler:DEBUG: block "parse arguments" took 0.014 seconds
cache:DEBUG: PID 58131 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/tables.c
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
cache:DEBUG: PID 58130 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.016 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/resample.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/resample.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
emcc: error: Subprocess 1/35 failed (returned 1)! (cmdline: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/common.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/common.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs)
tools.filelock:DEBUG: Attempting to release lock 4568888080 on /Users/connorclark/tools/emsdk/upstream/emscripten/cache/cache.lock
tools.filelock:DEBUG: Lock 4568888080 released on /Users/connorclark/tools/emsdk/upstream/emscripten/cache/cache.lock
cache:DEBUG: PID 58116 released multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
profiler:DEBUG: block "compile inputs" raised an exception after 0.238 seconds
profiler:DEBUG: block "main" raised an exception after 0.286 seconds
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/instrum.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/instrum.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
profiler:DEBUG: block "parse arguments" took 0.015 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/resample.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58133 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.017 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/instrum.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58132 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.017 seconds
profiler:DEBUG: block "main" raised an exception after 0.018 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/mix.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/mix.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
profiler:DEBUG: block "setup" took 0.005 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/mix.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58134 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.004 seconds
profiler:DEBUG: block "main" raised an exception after 0.012 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/playmidi.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/playmidi.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/playmidi.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58135 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.010 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/output.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/output.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/output.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58136 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.009 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/timidity.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/timidity.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/timidity.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58137 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_voc.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/load_voc.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_voc.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58141 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mpg123.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_mpg123.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mad.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_mad.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mpg123.c
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_timidity.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_timidity.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_timidity.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58139 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.003 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    ports.add_cflags(cflags, settings)
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_aiff.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/load_aiff.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drmp3.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_drmp3.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
profiler:DEBUG: block "parse arguments" took 0.001 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drmp3.c
profiler:DEBUG: block "check_sanity" took 0.000 seconds
ports:DEBUG: including port: sdl2
profiler:DEBUG: block "setup" took 0.000 seconds
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_aiff.c
cache:DEBUG: PID 58142 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
profiler:DEBUG: block "parse arguments" took 0.011 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
ports:DEBUG: including port: vorbis
profiler:DEBUG: block "setup" took 0.000 seconds
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mad.c
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58143 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
cache:DEBUG: PID 58140 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
profiler:DEBUG: block "main" raised an exception after 0.003 seconds
profiler:DEBUG: block "compile inputs" raised an exception after 0.012 seconds
profiler:DEBUG: block "main" raised an exception after 0.013 seconds
ports:DEBUG: including port: sdl2
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58138 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.013 seconds
Traceback (most recent call last):
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drflac.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_drflac.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
profiler:DEBUG: block "setup" took 0.000 seconds
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drflac.c
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
    sys.exit(main(sys.argv))
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
cache:DEBUG: PID 58144 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
    ret = run(args)
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    return func(*args, **kwds)
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
    cmd = get_clang_command(input_file)
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    with self.lock(shortname):
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    return next(self.gen)
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
ninja: build stopped: subcommand failed.


Source file was:
#include <pthread.h>

static void* test_func(void* data)
{
  return data;
}

int main(void)
{
  pthread_t thread;
  pthread_create(&thread, NULL, test_func, NULL);
  pthread_detach(thread);
  pthread_cancel(thread);
  pthread_join(thread, NULL);
  pthread_atfork(NULL, NULL, NULL);
  pthread_exit(NULL);

  return 0;
}

Determining if the function pthread_create exists in the pthreads failed with the following output:
Change Dir: /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/local/bin/ninja cmTC_f712f && [1/2] Building C object CMakeFiles/cmTC_f712f.dir/Debug/CheckFunctionExists.c.o
FAILED: CMakeFiles/cmTC_f712f.dir/Debug/CheckFunctionExists.c.o 
/Users/connorclark/tools/emsdk/upstream/emscripten/emcc -DCMAKE_INTDIR=\"Debug\"  -s USE_SDL=2 -s USE_SDL_MIXER=2 -s USE_PTHREADS=1 -DCHECK_FUNCTION_EXISTS=pthread_create -g -MD -MT CMakeFiles/cmTC_f712f.dir/Debug/CheckFunctionExists.c.o -MF CMakeFiles/cmTC_f712f.dir/Debug/CheckFunctionExists.c.o.d -o CMakeFiles/cmTC_f712f.dir/Debug/CheckFunctionExists.c.o -c /usr/local/Cellar/cmake/3.24.2/share/cmake/Modules/CheckFunctionExists.c
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -DCMAKE_INTDIR="Debug" -s USE_SDL=2 -s USE_SDL_MIXER=2 -s USE_PTHREADS=1 -DCHECK_FUNCTION_EXISTS=pthread_create -g -MD -MT CMakeFiles/cmTC_f712f.dir/Debug/CheckFunctionExists.c.o -MF CMakeFiles/cmTC_f712f.dir/Debug/CheckFunctionExists.c.o.d -o CMakeFiles/cmTC_f712f.dir/Debug/CheckFunctionExists.c.o -c /usr/local/Cellar/cmake/3.24.2/share/cmake/Modules/CheckFunctionExists.c (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.000 seconds
shared:DEBUG: successfully executed /Users/connorclark/tools/emsdk/upstream/bin/clang --version
shared:DEBUG: sanity file up-to-date: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/sanity.txt
shared:DEBUG: successfully executed /Users/connorclark/tools/emsdk/upstream/bin/llc --version
shared:INFO: (Emscripten: Running sanity checks)
profiler:DEBUG: block "sanity LLVM" took 0.000 seconds
profiler:DEBUG: block "check_sanity" took 0.048 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /usr/local/Cellar/cmake/3.24.2/share/cmake/Modules/CheckFunctionExists.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
ports:DEBUG: including port: sdl2_mixer
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer)
cache:DEBUG: PID 58157 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
tools.filelock:DEBUG: Attempting to acquire lock 4496077584 on /Users/connorclark/tools/emsdk/upstream/emscripten/cache/cache.lock
tools.filelock:DEBUG: Lock 4496077584 acquired on /Users/connorclark/tools/emsdk/upstream/emscripten/cache/cache.lock
cache:DEBUG: done
cache:INFO: generating port: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a... (this will be cached in "/Users/connorclark/tools/emsdk/upstream/emscripten/cache/sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a" for subsequent builds)
root:INFO: building port: sdl2_mixer
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
shared:DEBUG: Running subprocess 1/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/common.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/common.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 2/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/tables.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/tables.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 3/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/readmidi.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/readmidi.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 4/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/instrum.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/instrum.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 5/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/resample.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/resample.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 6/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/mix.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/mix.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 7/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/playmidi.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/playmidi.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 8/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/output.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/output.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 9/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/timidity.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/timidity.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 10/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mad.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_mad.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 11/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_timidity.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_timidity.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 12/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mpg123.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_mpg123.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
shared:DEBUG: Running subprocess 13/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_voc.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/load_voc.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
shared:DEBUG: Running subprocess 14/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drmp3.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_drmp3.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
shared:DEBUG: Running subprocess 15/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_aiff.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/load_aiff.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 16/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drflac.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_drflac.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/tables.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/tables.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.000 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/tables.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58161 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/common.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/common.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
profiler:DEBUG: block "parse arguments" took 0.000 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/common.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
cache:DEBUG: PID 58160 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.001 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/readmidi.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/readmidi.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/instrum.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/instrum.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/instrum.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58163 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/resample.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/resample.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/resample.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58164 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
profiler:DEBUG: block "parse arguments" took 0.000 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/readmidi.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58162 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.022 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
emcc: error: Subprocess 1/35 failed (returned 1)! (cmdline: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/common.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/common.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs)
tools.filelock:DEBUG: Attempting to release lock 4496077584 on /Users/connorclark/tools/emsdk/upstream/emscripten/cache/cache.lock
tools.filelock:DEBUG: Lock 4496077584 released on /Users/connorclark/tools/emsdk/upstream/emscripten/cache/cache.lock
cache:DEBUG: PID 58157 released multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
profiler:DEBUG: block "compile inputs" raised an exception after 0.252 seconds
profiler:DEBUG: block "main" raised an exception after 0.300 seconds
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/mix.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/mix.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/mix.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58165 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/playmidi.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/playmidi.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/playmidi.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58166 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/output.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/output.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
profiler:DEBUG: block "parse arguments" took 0.000 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/output.c
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
cache:DEBUG: PID 58167 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
    return next(self.gen)
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
profiler:DEBUG: block "main" raised an exception after 0.001 seconds
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/timidity.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/timidity.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/timidity.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mad.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_mad.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58168 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.013 seconds
profiler:DEBUG: block "main" raised an exception after 0.014 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_timidity.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_timidity.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mad.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drmp3.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_drmp3.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
ports:DEBUG: including port: vorbis
profiler:DEBUG: block "check_sanity" took 0.000 seconds
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
profiler:DEBUG: block "setup" took 0.000 seconds
ports:DEBUG: including port: sdl2
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_aiff.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/load_aiff.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_timidity.c
cache:DEBUG: PID 58169 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
ports:DEBUG: including port: ogg
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
profiler:DEBUG: block "compile inputs" raised an exception after 0.015 seconds
profiler:DEBUG: block "main" raised an exception after 0.016 seconds
profiler:DEBUG: block "parse arguments" took 0.000 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
ports:DEBUG: including port: sdl2
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drmp3.c
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
profiler:DEBUG: block "setup" took 0.000 seconds
ports:DEBUG: including port: ogg
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
cache:DEBUG: PID 58170 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
    ports.add_cflags(cflags, settings)
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_aiff.c
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drflac.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_drflac.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
ports:DEBUG: including port: vorbis
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
ports:DEBUG: including port: ogg
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: sdl2
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
Traceback (most recent call last):
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_voc.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/load_voc.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
cache:DEBUG: PID 58173 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
ports:DEBUG: including port: vorbis
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mpg123.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_mpg123.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
cache:DEBUG: PID 58174 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
profiler:DEBUG: block "parse arguments" took 0.001 seconds
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_voc.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
cache:DEBUG: PID 58172 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mpg123.c
profiler:DEBUG: block "parse arguments" took 0.002 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drflac.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
cache:DEBUG: PID 58171 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.003 seconds
profiler:DEBUG: block "main" raised an exception after 0.004 seconds
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
cache:DEBUG: PID 58175 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.009 seconds
profiler:DEBUG: block "main" raised an exception after 0.011 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    return func(*args, **kwds)
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    return func(*args, **kwds)
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
ninja: build stopped: subcommand failed.



Determining if the function pthread_create exists in the pthread failed with the following output:
Change Dir: /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/local/bin/ninja cmTC_6063e && [1/2] Building C object CMakeFiles/cmTC_6063e.dir/Debug/CheckFunctionExists.c.o
FAILED: CMakeFiles/cmTC_6063e.dir/Debug/CheckFunctionExists.c.o 
/Users/connorclark/tools/emsdk/upstream/emscripten/emcc -DCMAKE_INTDIR=\"Debug\"  -s USE_SDL=2 -s USE_SDL_MIXER=2 -s USE_PTHREADS=1 -DCHECK_FUNCTION_EXISTS=pthread_create -g -MD -MT CMakeFiles/cmTC_6063e.dir/Debug/CheckFunctionExists.c.o -MF CMakeFiles/cmTC_6063e.dir/Debug/CheckFunctionExists.c.o.d -o CMakeFiles/cmTC_6063e.dir/Debug/CheckFunctionExists.c.o -c /usr/local/Cellar/cmake/3.24.2/share/cmake/Modules/CheckFunctionExists.c
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -DCMAKE_INTDIR="Debug" -s USE_SDL=2 -s USE_SDL_MIXER=2 -s USE_PTHREADS=1 -DCHECK_FUNCTION_EXISTS=pthread_create -g -MD -MT CMakeFiles/cmTC_6063e.dir/Debug/CheckFunctionExists.c.o -MF CMakeFiles/cmTC_6063e.dir/Debug/CheckFunctionExists.c.o.d -o CMakeFiles/cmTC_6063e.dir/Debug/CheckFunctionExists.c.o -c /usr/local/Cellar/cmake/3.24.2/share/cmake/Modules/CheckFunctionExists.c (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.000 seconds
shared:DEBUG: successfully executed /Users/connorclark/tools/emsdk/upstream/bin/clang --version
shared:DEBUG: sanity file up-to-date: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/sanity.txt
shared:DEBUG: successfully executed /Users/connorclark/tools/emsdk/upstream/bin/llc --version
shared:INFO: (Emscripten: Running sanity checks)
profiler:DEBUG: block "sanity LLVM" took 0.000 seconds
profiler:DEBUG: block "check_sanity" took 0.047 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /usr/local/Cellar/cmake/3.24.2/share/cmake/Modules/CheckFunctionExists.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2_mixer
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer)
cache:DEBUG: PID 58188 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
tools.filelock:DEBUG: Attempting to acquire lock 4558865168 on /Users/connorclark/tools/emsdk/upstream/emscripten/cache/cache.lock
tools.filelock:DEBUG: Lock 4558865168 acquired on /Users/connorclark/tools/emsdk/upstream/emscripten/cache/cache.lock
cache:DEBUG: done
cache:INFO: generating port: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a... (this will be cached in "/Users/connorclark/tools/emsdk/upstream/emscripten/cache/sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a" for subsequent builds)
root:INFO: building port: sdl2_mixer
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
shared:DEBUG: Running subprocess 1/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/common.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/common.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 2/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/tables.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/tables.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 3/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/readmidi.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/readmidi.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 4/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/instrum.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/instrum.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 5/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/resample.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/resample.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 6/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/mix.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/mix.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 7/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/playmidi.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/playmidi.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 8/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/output.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/output.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 9/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/timidity.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/timidity.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 10/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mad.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_mad.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 11/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_timidity.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_timidity.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
shared:DEBUG: Running subprocess 12/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mpg123.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_mpg123.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 13/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_voc.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/load_voc.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 14/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drmp3.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_drmp3.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 15/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_aiff.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/load_aiff.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
shared:DEBUG: Running subprocess 16/35: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drflac.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_drflac.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/common.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/common.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/common.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58191 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/tables.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/tables.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/tables.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/readmidi.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/readmidi.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/readmidi.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58193 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58192 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.013 seconds
profiler:DEBUG: block "main" raised an exception after 0.014 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/instrum.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/instrum.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/instrum.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58194 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/resample.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/resample.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/resample.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58195 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.002 seconds
profiler:DEBUG: block "main" raised an exception after 0.003 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
emcc: error: Subprocess 1/35 failed (returned 1)! (cmdline: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/common.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/common.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs)
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
tools.filelock:DEBUG: Attempting to release lock 4558865168 on /Users/connorclark/tools/emsdk/upstream/emscripten/cache/cache.lock
tools.filelock:DEBUG: Lock 4558865168 released on /Users/connorclark/tools/emsdk/upstream/emscripten/cache/cache.lock
cache:DEBUG: PID 58188 released multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
profiler:DEBUG: block "compile inputs" raised an exception after 0.309 seconds
profiler:DEBUG: block "main" raised an exception after 0.356 seconds
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/mix.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/mix.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/mix.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
cache:DEBUG: PID 58196 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.003 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
config:DEBUG: emscripten config is located in /Users/connorclark/tools/emsdk/.emscripten
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/playmidi.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/playmidi.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/playmidi.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58197 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drmp3.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_drmp3.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
profiler:DEBUG: block "parse arguments" took 0.000 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drmp3.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
cache:DEBUG: PID 58204 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return self.get(name, *args, **kwargs)
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/output.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/output.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/output.c
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58198 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/timidity.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/timidity/timidity.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_aiff.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/load_aiff.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_timidity.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_timidity.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
    return func(*args, **kwds)
profiler:DEBUG: block "setup" took 0.000 seconds
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_aiff.c
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_timidity.c
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_voc.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/load_voc.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drflac.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_drflac.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/load_voc.c
profiler:DEBUG: block "parse arguments" took 0.001 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
ports:DEBUG: including port: ogg
profiler:DEBUG: block "setup" took 0.000 seconds
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_drflac.c
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58206 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
profiler:DEBUG: block "parse arguments" took 0.004 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
profiler:DEBUG: block "setup" took 0.000 seconds
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/timidity/timidity.c
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
ports:DEBUG: including port: ogg
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mpg123.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_mpg123.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58199 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.006 seconds
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
emcc:WARNING: invocation: /Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py -c /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mad.c -o /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports-builds/sdl2_mixer/src/codecs/music_mad.c.o -g -sSTRICT -Werror -O2 -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4 -sUSE_SDL=2 -O2 -DMUSIC_WAV -sUSE_VORBIS -DMUSIC_OGG -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/include -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src -I/Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs (in /Users/connorclark/code/emscripten-issue-18090/build/CMakeFiles/CMakeTmp)
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
profiler:DEBUG: block "parse arguments" took 0.001 seconds
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
profiler:DEBUG: block "check_sanity" took 0.000 seconds
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    return next(self.gen)
profiler:DEBUG: block "setup" took 0.000 seconds
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mad.c
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
ports:DEBUG: including port: vorbis
cache:DEBUG: PID 58205 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.008 seconds
profiler:DEBUG: block "main" raised an exception after 0.009 seconds
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
cache:DEBUG: PID 58200 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
    cmd = get_clang_command(input_file)
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.002 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
cache:DEBUG: PID 58201 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.009 seconds
profiler:DEBUG: block "main" raised an exception after 0.010 seconds
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
Traceback (most recent call last):
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
profiler:DEBUG: block "parse arguments" took 0.007 seconds
profiler:DEBUG: block "check_sanity" took 0.000 seconds
profiler:DEBUG: block "setup" took 0.000 seconds
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
profiler:DEBUG: block "ensure_sysroot" took 0.000 seconds
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
emcc:DEBUG: compiling source file: /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2_mixer/SDL_mixer-gme-4/src/codecs/music_mpg123.c
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
ports:DEBUG: including port: ogg
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/ogg)
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
ports:DEBUG: including port: vorbis
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/vorbis)
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
ports:DEBUG: including port: sdl2
ports:DEBUG:     (at /Users/connorclark/tools/emsdk/upstream/emscripten/cache/ports/sdl2)
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
cache:DEBUG: PID 58202 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
profiler:DEBUG: block "compile inputs" raised an exception after 0.001 seconds
profiler:DEBUG: block "main" raised an exception after 0.008 seconds
cache:DEBUG: PID 58203 acquiring multiprocess file lock to Emscripten cache at /Users/connorclark/tools/emsdk/upstream/emscripten/cache
cache:DEBUG: still locked from: sysroot/lib/wasm32-emscripten/libSDL2_mixer_ogg.a
    cmd = get_clang_command(input_file)
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
profiler:DEBUG: block "compile inputs" raised an exception after 0.010 seconds
    compile_source_file(i, input_file)
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
profiler:DEBUG: block "main" raised an exception after 0.011 seconds
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
Traceback (most recent call last):
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4120, in <module>
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    sys.exit(main(sys.argv))
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    with self.lock(shortname):
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    sys.exit(main(sys.argv))
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 4113, in main
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
    ret = run(args)
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    ret = run(args)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 1160, in run
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    linker_inputs = phase_compile_inputs(options, state, newargs, input_files)
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 79, in inner
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return func(*args, **kwds)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2807, in phase_compile_inputs
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    compile_source_file(i, input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2787, in compile_source_file
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
    cmd = get_clang_command(input_file)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 2721, in get_clang_command
    return get_compiler(src_file) + get_cflags(state.orig_args, use_cxx(src_file)) + compile_args + [src_file]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/emcc.py", line 903, in get_cflags
    ports.add_cflags(cflags, settings)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/__init__.py", line 396, in add_cflags
    port.get(Ports, settings, shared)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/ports/sdl2.py", line 76, in get
    return [shared.Cache.get_lib(get_lib_name(settings), create, what='port')]
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 131, in get_lib
    return self.get(name, *args, **kwargs)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 147, in get
    with self.lock(shortname):
  File "/Users/connorclark/tools/emsdk/python/3.9.2_64bit/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 67, in lock
    self.acquire_cache_lock(reason)
  File "/Users/connorclark/tools/emsdk/upstream/emscripten/tools/cache.py", line 42, in acquire_cache_lock
    assert 'EM_CACHE_IS_LOCKED' not in os.environ, f'lol attempt to lock the cache while a parent process is holding the lock ({reason})'
AssertionError: lol attempt to lock the cache while a parent process is holding the lock (sysroot/lib/wasm32-emscripten/libSDL2.a)
not cleaning up temp files since in debug-save mode, see them in /var/folders/40/3t66ckdn5wdb01f456nd_r0r0000gn/T/emscripten_temp
ninja: build stopped: subcommand failed.



